<html>
<head>
<script src="../http/tests/inspector/inspector-test.js"></script>
<script type="text/javascript">
var test = function()
{
    var tabbedLocation = WebInspector.viewManager.createTabbedLocation();
    logPersistenceSetting();

    // Show a closeable tab.
    var sensors = new WebInspector.SimpleView("sensors");
    sensors.isCloseable = function() { return true; }
    tabbedLocation.showView(sensors);
    logPersistenceSetting();

    // Repeat.
    tabbedLocation.showView(sensors);
    logPersistenceSetting();

    // Show a permanent tab.
    var console = new WebInspector.SimpleView("console");
    tabbedLocation.showView(console);
    logPersistenceSetting();

    // Show transient tab.
    var history = new WebInspector.SimpleView("history");
    history.isTransient = function() { return true; }
    tabbedLocation.showView(history);
    logPersistenceSetting();

    // Close closeable tab.
    tabbedLocation.tabbedPane().closeTab("sensors");
    logPersistenceSetting();

    InspectorTest.completeTest();

    function logPersistenceSetting()
    {
        InspectorTest.addResult("Closeable tabs to restore: " + JSON.stringify(tabbedLocation._closeableTabSetting.get()));
    }
}
</script>
</head>
<body onload="runTest()">
<p>Tests extensible tabbed pane closeable tabs persistence logic.</p>
</body>
</html>
