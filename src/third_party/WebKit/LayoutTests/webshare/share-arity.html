<!DOCTYPE html>
<script src="../resources/testharness.js"></script>
<script src="../resources/testharnessreport.js"></script>
<script src="../resources/mojo-helpers.js"></script>
<script src="resources/mock-share-service.js"></script>
<script>

share_test((t, mock) => {
  return promise_rejects(t, new TypeError(), navigator.share());
}, '0 arguments (promise rejection)');

share_test((t, mock) => {
  return promise_rejects(t, new TypeError(), navigator.share('the title'));
}, '1 argument (promise rejection)');

share_test((t, mock) => {
  mock.pushShareResult('the title', 'the message', null);
  return navigator.share('the title', 'the message', 'more than required');
}, '3 arguments (extra argument ignored)');

</script>
